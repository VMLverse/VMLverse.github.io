<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Visual Data Analysis in Python: Part 1 | VMLverse</title>
<meta name="description" content="In this blog post, we explore visual data analytics, leveraging data visualization to uncover insights and patterns in our datasets. In this part 1 post, we will look at univeriate visualization, multiveriate  visualization and whole dataset visualization">


  <meta name="author" content="Vimal Venugopal">
  
  <meta property="article:author" content="Vimal Venugopal">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="VMLverse">
<meta property="og:title" content="Visual Data Analysis in Python: Part 1">
<meta property="og:url" content="http://localhost:4000/posts/2023/07/20/Visual_Data_Analysis_in_Python_Part1.html">


  <meta property="og:description" content="In this blog post, we explore visual data analytics, leveraging data visualization to uncover insights and patterns in our datasets. In this part 1 post, we will look at univeriate visualization, multiveriate  visualization and whole dataset visualization">







  <meta property="article:published_time" content="2023-07-20T00:00:00-04:00">






<link rel="canonical" href="http://localhost:4000/posts/2023/07/20/Visual_Data_Analysis_in_Python_Part1.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Vimal Venugopal",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="VMLverse Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo_plain_blck_bg.png" alt="VMLverse"></a>
        
        <a class="site-title" href="/">
          VMLverse
          <span class="site-subtitle">Explore | Experiment | Expand</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/">Blog</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/">Projects</a>
            </li><li class="masthead__menu-item">
              <a href="/docs/resume.pdf">Resume</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/DSC1717square.jpeg" alt="Vimal Venugopal" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Vimal Venugopal</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>a curious mind with a passion for machine learning, photography and travel</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Toronto, Canada</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/vimal-venugopal-1311a519/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/VMLverse" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/vimstargram/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
          
            <li><a href="https://cognitivescrawls.wordpress.com/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Wordpress</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Visual Data Analysis in Python: Part 1">
    <meta itemprop="description" content="In this blog post, we explore visual data analytics, leveraging data visualization to uncover insights and patterns in our datasets. In this part 1 post, we will look at univeriate visualization, multiveriate  visualization and whole dataset visualization">
    <meta itemprop="datePublished" content="2023-07-20T00:00:00-04:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Visual Data Analysis in Python: Part 1
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          22 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Contents</h4></header>
              <ul class="toc__menu"><li><a href="#introduction">Introduction</a></li><li><a href="#1-data">1. Data</a><ul><li><a href="#setup">Setup</a></li><li><a href="#1-dfheadn">1. df.head(n)</a></li></ul></li><li><a href="#2-univariate-visualization">2. Univariate visualization</a><ul><li><a href="#21-quantitative-features">2.1 Quantitative features</a><ul><li><a href="#histograms-and-density-plots">Histograms and density plots</a></li><li><a href="#box-plot">Box plot</a></li><li><a href="#violin-plot">Violin plot</a></li><li><a href="#describe">describe()</a></li></ul></li><li><a href="#22-categorical-and-binary-features">2.2 Categorical and binary features</a><ul><li><a href="#frequency-table">Frequency table</a></li><li><a href="#bar-plot">Bar plot</a></li></ul></li></ul></li><li><a href="#3-multivariate-visualization">3. Multivariate visualization</a><ul><li><a href="#31-quantitative-vs-quantitative">3.1 Quantitative vs. Quantitative</a><ul><li><a href="#correlation-matrix">Correlation matrix</a></li><li><a href="#scatter-plot">Scatter plot</a></li><li><a href="#scatterplot-matrix">Scatterplot matrix</a></li></ul></li><li><a href="#32-quantitative-vs-categorical">3.2 Quantitative vs. Categorical</a></li><li><a href="#33-categorical-vs-categorical">3.3 Categorical vs. Categorical</a><ul><li><a href="#contingency-table">Contingency table</a></li></ul></li></ul></li><li><a href="#4-whole-dataset-visualizations">4. Whole dataset visualizations</a><ul><li><a href="#41-a-naive-approach">4.1 A naive approach</a></li><li><a href="#42-dimensionality-reduction">4.2 Dimensionality reduction</a></li><li><a href="#43-t-sne">4.3 t-SNE</a></li></ul></li><li><a href="#references">References:</a></li></ul>

            </nav>
          </aside>
        
        <h2 id="introduction">Introduction</h2>

<ul>
  <li>In the field of Machine Learning, data visualization plays a critical role beyond creating visually appealing graphics for reports. It is a powerful tool that is extensively utilized throughout all stages of a project.</li>
  <li>Data visualization serves as a crucial step in the initial exploration of data when tackling a new task. It allows us to conduct preliminary checks, perform analysis, and summarize the data efficiently using graphics and tables. By visualizing the data, we can quickly grasp the main points and extract valuable insights without getting lost in the intricacies of raw data.</li>
  <li>In the context of model analysis and reporting, the utilization of charts and images remains crucial. Visual representations play a vital role in understanding model performance, interpreting complex models (projecting high-dimensional spaces onto more visually intelligible 2D or 3D figures), and conveying results effectively.</li>
  <li>Visualization serves as a fast and effective approach to gain insights and understand your data. It is essential to learn and utilize various visualization techniques as part of your everyday Machine Learning toolbox.</li>
  <li>In this article, we will focus on acquiring hands-on experience with data visual exploration by leveraging popular libraries such as pandas, matplotlib, and seaborn. These libraries offer powerful tools and functions to create meaningful visualizations, enabling you to uncover patterns, relationships, and anomalies in your data.</li>
</ul>

<h2 id="1-data">1. Data</h2>
<p>Similar to the article on Data analysis article, The <a href="https://archive.ics.uci.edu/ml/datasets/adult">UCI Adult Income dataset</a>
is used for this article. It contains information about individuals from the 1994 United States Census, and the goal is to predict whether a person’s income exceeds $50,000 per year based on various attributes. It consists of 14 attributes, including features such as age, education level, work-class, marital status, occupation, race, sex, capital gain, capital loss, hours per week, native country, and the target variable, which indicates whether the income exceeds $50,000 or not.</p>

<h3 id="setup">Setup</h3>

<ul>
  <li>Importing the necessary libraries:
    <ul>
      <li>Import the Matplotlib library, which is a popular visualization library in Python.</li>
      <li>Import the NumPy library, which provides support for numerical operations and array manipulation.</li>
      <li>Import the Pandas library, which is widely used for data manipulation and analysis.</li>
    </ul>
  </li>
  <li>Importing and setting up Seaborn:
    <ul>
      <li>Import the Seaborn library, which is built on top of Matplotlib and offers additional functionality and aesthetics for data visualization.</li>
      <li>Set the default Seaborn theme, providing a consistent and visually pleasing style for the plots.</li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import required libs
</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># use the Seaborn library
</span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="c1">#sets the default Seaborn theme
</span><span class="n">sns</span><span class="p">.</span><span class="nb">set</span><span class="p">()</span>

<span class="c1"># Configures the Jupyter Notebook to display the plots in SVG format, which ensures sharper and more legible graphics.
</span><span class="o">%</span><span class="n">config</span> <span class="n">InlineBackend</span><span class="p">.</span><span class="n">figure_format</span> <span class="o">=</span> <span class="s">'svg'</span>

<span class="c1"># setup precision for two decimal places
</span><span class="n">pd</span><span class="p">.</span><span class="n">set_option</span><span class="p">(</span><span class="s">"display.precision"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># read csv from URL into a dataframe
</span><span class="n">DATA_URL</span> <span class="o">=</span> <span class="s">"https://vmlverse.github.io/assets/datasets/adult.data.csv"</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">DATA_URL</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="1-dfheadn">1. df.head(n)</h3>
<p>The head() function displays the top rows of the DataFrame data. By specifying the argument 5 (default value), it will show the first 5 entries of the DataFrame. This provides a quick overview of the structure and content of your data, allowing you to get acquainted with the dataset.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div id="df-e1a1e955-cc3a-46d8-b696-94045758a9bd">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>2</th>
      <td>38</td>
      <td>Private</td>
      <td>215646</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Divorced</td>
      <td>Handlers-cleaners</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>3</th>
      <td>53</td>
      <td>Private</td>
      <td>234721</td>
      <td>11th</td>
      <td>7</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e1a1e955-cc3a-46d8-b696-94045758a9bd')" title="Convert this dataframe to an interactive table." style="display:none;">

  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e1a1e955-cc3a-46d8-b696-94045758a9bd button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e1a1e955-cc3a-46d8-b696-94045758a9bd');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<p>For the UCI Adult income dataset, the target variable is the “income” column, which indicates whether an individual’s income exceeds a certain threshold. It is also a binary variable with two possible values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;=50K</code>: Indicates that the individual’s income is less than or equal to $50,000 per year.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt;50K</code>: Indicates that the individual’s income is greater than $50,000 per year.</li>
</ul>

<p>The goal is to predict whether an individual’s income falls below or exceeds the $50,000 threshold based on the remaining features in the dataset. This is why we call it a <code class="language-plaintext highlighter-rouge">target</code> variable.</p>

<h2 id="2-univariate-visualization">2. Univariate visualization</h2>

<ul>
  <li>Univariate analysis focuses on examining individual features or variables one at a time.</li>
  <li>It involves analyzing the distribution and characteristics of a single feature without considering other variables in the dataset.</li>
  <li>This allows us to gain insights specifically related to that feature.</li>
  <li>Below are some common statistical types of features and the corresponding tools for their individual visual analysis:</li>
</ul>

<h3 id="21-quantitative-features">2.1 Quantitative features</h3>
<p>Quantitative features in a dataset are characterized by ordered numerical values. These values can be discrete, like integers, or continuous, like real numbers, and usually express a count or a measurement.</p>

<h4 id="histograms-and-density-plots">Histograms and density plots</h4>
<p>To visualize the distribution of a numerical variable, one of the easiest ways is to plot its histogram using the <code class="language-plaintext highlighter-rouge">hist()</code> method of a DataFrame. Here’s an example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s">"hours-per-week"</span><span class="p">,</span><span class="s">"age"</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">].</span><span class="n">hist</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_9_0.svg" alt="svg" /></p>

<p>Histogram:</p>
<ul>
  <li>A histogram is a visualization that groups values into bins of equal value range, providing insights into the distribution of a feature.</li>
  <li>The shape of the histogram can offer clues about the underlying distribution type, such as Gaussian (bell-shaped), exponential, or others.</li>
  <li>It allows you to identify any skewness or anomalies in the distribution.</li>
</ul>

<p>Why Histogram of a Feature matters in ML?:</p>
<ul>
  <li>Understanding the distribution of feature values becomes crucial when applying Machine Learning methods that assume a specific distribution type, often Gaussian.</li>
  <li>Some algorithms, like linear regression or Gaussian Naive Bayes, rely on the assumption of a Gaussian distribution for optimal performance.</li>
  <li>By examining the histogram, you can assess whether the feature follows a Gaussian distribution or if there are deviations from this assumption.</li>
</ul>

<p>Skewness:</p>
<ul>
  <li>Skewness in the shape of the histogram can indicate departures from a regular distribution.</li>
  <li>Positive skewness (longer tail on the right) suggests that the data has a few large values, while negative skewness (longer tail on the left) indicates a concentration of small values.</li>
  <li>These observations can be valuable for understanding the data and selecting appropriate Machine Learning techniques.</li>
</ul>

<p>In the above plot, we see that the variable <em>hours-per-week</em> appears like a normaal distrbution with a high distribution of values in 30-40 range, while <em>age</em> is positively skewed(its tail is longer on the right) with few large values.</p>

<p>Another effective way to understand the distribution of a variable is through density plots, also known as <em>Kernel Density Plots</em>. These plots provide a smoothed version of the distribution and offer advantages over histograms as they are not influenced by the choice of bin size.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">].</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">kind</span><span class="o">=</span><span class="s">"density"</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_11_0.svg" alt="svg" /></p>

<p>It is also possible to plot a distribution of observations with seaborn’s distplot(). For example, let’s look at the distribution of <em>age</em>. By default, the plot displays the histogram with the kernel density estimate (KDE) on top.</p>

<p class="notice--info"><strong>QUICK TIP:</strong> 
KDE stands for Kernel Density Estimation. It is a non-parametric method used to estimate the probability density function of a continuous random variable. In simpler terms, KDE is a way to represent the underlying distribution of a set of data points in a smooth and continuous manner.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"hours-per-week"</span><span class="p">]);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ipython-input-5-30db0f299d1e&gt;:1: UserWarning: 

`distplot` is a deprecated function and will be removed in seaborn v0.14.0.

Please adapt your code to use either `displot` (a figure-level function with
similar flexibility) or `histplot` (an axes-level function for histograms).

For a guide to updating your code to use the new functions, please see
https://gist.github.com/mwaskom/de44147ed2974457ad6372750bbe5751

  sns.distplot(df["hours-per-week"]);
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_13_1.svg" alt="svg" /></p>

<p>The height of the histogram bars here is normed and shows the density rather than the number of examples in each bin.</p>

<h4 id="box-plot">Box plot</h4>
<p>A box plot is a useful visualization for understanding the distribution and statistical properties of a variable. Seaborn provides an excellent implementation of box plots that offers valuable insights.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"age"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_16_0.svg" alt="svg" /></p>

<p>Let’s see how to interpret a box plot. Its components are a box (obviously, this is why it is called a box plot), the so-called whiskers, and a number of individual points (outliers).</p>

<p>The box by itself illustrates the interquartile spread of the distribution; its length is determined by the \(25th(Q1)\) and \(75th(Q3)\) percentiles. The vertical line inside the box marks the median (\(50\%\)) of the distribution.</p>

<p>The whiskers are the lines extending from the box. They represent the entire scatter of data points, specifically the points that fall within the interval \((Q1\:-1.5*IQR,\: Q3\:+1.5*IQR)\), where \(IQR = Q3-Q1\) is the interquartile range.</p>

<p>Outliers that fall outside of the range bounded by the whiskers are plotted individually as black points along the central axis.</p>

<p>We can see that a large number of older customers is quite rare in our data.</p>

<p>IQR:</p>
<ul>
  <li>The interquartile range (IQR) is a statistical measure that provides information about the spread or dispersion of a dataset. It is calculated as the difference between the third quartile (Q3) and the first quartile (Q1) of the dataset.</li>
  <li>The quartiles divide a dataset into four equal parts, representing different portions of the data distribution. The first quartile (Q1) represents the 25th percentile, meaning that 25% of the data falls below this value. The third quartile (Q3) represents the 75th percentile, indicating that 75% of the data falls below this value.</li>
  <li>To calculate the IQR, you subtract the first quartile (Q1) from the third quartile (Q3): IQR = Q3 - Q1.</li>
  <li>The IQR provides a measure of the range within which the central 50% of the data is contained. It is less sensitive to extreme values or outliers compared to the range, making it a robust measure of spread.</li>
  <li>By examining the IQR, you can assess the variability or dispersion of a dataset. A larger IQR indicates a wider spread of values, while a smaller IQR suggests a more concentrated or narrow range of values. The IQR is particularly useful when comparing distributions or detecting potential outliers within a dataset.</li>
</ul>

<h4 id="violin-plot">Violin plot</h4>
<p>The last type of distribution plots that we will consider is a violin plot. A violin plot combines a box plot and a kernel density estimate (KDE) plot.</p>

<p>Look at the figures below. On the left, we see the already familiar box plot. To the right, there is a violin plot with the kernel density estimate on both sides.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">"age"</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">"age"</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_20_0.svg" alt="svg" /></p>

<p>The figure on the right showcases a violin plot, which incorporates the features of a box plot along with the KDE on both sides. The width of the violin represents the density of the data at different values, with a wider section indicating a higher density of observations. The white dot inside the violin represents the median, and the vertical lines extending from the violin indicate the range of the data.</p>

<p>From the violin plot, we can now see the density of data distributions which is not evident in the box plot. For instance, there is a larger density in the lower whisker (&lt;Q1), than the upper whisker (&gt;Q3).</p>

<h4 id="describe">describe()</h4>

<p>In addition to graphical tools, To obtain exact numerical statistics of the distribution, you can utilize the describe() method of a DataFrame. This method provides a summary of various descriptive statistics for each numerical column in the DataFrame.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">features</span><span class="p">].</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div></div>

<div id="df-9ac13f88-5174-48f1-a029-42325af720ff">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hours-per-week</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>32561.00</td>
      <td>32561.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>40.44</td>
      <td>38.58</td>
    </tr>
    <tr>
      <th>std</th>
      <td>12.35</td>
      <td>13.64</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.00</td>
      <td>17.00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>40.00</td>
      <td>28.00</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>40.00</td>
      <td>37.00</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>45.00</td>
      <td>48.00</td>
    </tr>
    <tr>
      <th>max</th>
      <td>99.00</td>
      <td>90.00</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9ac13f88-5174-48f1-a029-42325af720ff')" title="Convert this dataframe to an interactive table." style="display:none;">

  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9ac13f88-5174-48f1-a029-42325af720ff button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9ac13f88-5174-48f1-a029-42325af720ff');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<p>The table provides the count of non-null values, mean, standard deviation (std), minimum (min), quartiles (25%, 50%, 75%), and maximum (max) values for each numerical column. This information helps in understanding the distribution, detecting outliers, and assessing the overall characteristics of the data.</p>

<h3 id="22-categorical-and-binary-features">2.2 Categorical and binary features</h3>

<ul>
  <li>Categorical features take on a fixed number of values.</li>
  <li>Each of these values assigns an observation to a corresponding group, known as a category, which reflects some qualitative property of this example.</li>
  <li>Binary variables are an important special case of categorical variables when the number of possible values is exactly 2.</li>
  <li>If the values of a categorical variable are ordered, it is called ordinal.</li>
</ul>

<h4 id="frequency-table">Frequency table</h4>
<p>First, we will get a frequency table, which shows how frequent each value of the categorical variable is. For this, we will use the value_counts() method:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">"salary"</span><span class="p">].</span><span class="n">value_counts</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;=50K    24720
&gt;50K      7841
Name: salary, dtype: int64
</code></pre></div></div>

<p>By default, the entries in the output are sorted from the most to the least frequently-occurring values.</p>

<p>In our case, the data is not balanced; that is, our two target classes, &lt;=50K &amp; &gt;50K, are not represented equally in the dataset. Only a small part of the people have salaries higher thana 50K. As we will see in the following articles, this fact may imply some restrictions on measuring the classification performance, and, in the future, we may want to additionally penalize our model errors in predicting the minority above 50k salaried class.</p>

<h4 id="bar-plot">Bar plot</h4>
<p>The bar plot is a graphical representation of the frequency table. The easiest way to create it is to use the seaborn’s function countplot(). There is another function in seaborn that is somewhat confusingly called barplot() and is mostly used for representation of some basic statistics of a numerical variable grouped by a categorical feature.</p>

<p>Let’s plot the distributions for two categorical variables:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"relationship"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_30_0.svg" alt="svg" /></p>

<p>Histograms and bar plots have distinct characteristics and applications:</p>

<ul>
  <li>
    <p>Histograms: Histograms are primarily used to analyze the distribution of numerical variables. They display the frequency or count of observations within specified intervals or bins. The x-axis of a histogram represents the numerical values, and the y-axis represents the frequency or density of observations. Histograms are suitable for understanding the shape, central tendency, and spread of continuous or discrete numerical data.</p>
  </li>
  <li>
    <p>Bar plots: Bar plots, on the other hand, are used for visualizing categorical variables. They can represent various types of data on the x-axis, such as numbers, strings, or booleans. Bar plots display the categories on the x-axis and the corresponding frequencies, counts, or aggregated values on the y-axis. Bar plots are useful for comparing and presenting data across different categories or groups.</p>
  </li>
</ul>

<p>While histograms and bar plots may have similar appearances, they serve different purposes and handle different types of data. It is important to select the appropriate visualization based on the nature of the variable and the goal of analysis.</p>

<p>In the example mentioned, the histogram on the left illustrates the imbalance in the target variable, highlighting the disparity between the two classes. The bar plot on the right reveals the distribution of relationships and suggests that the Husbands are mostly the salaried people.</p>

<p>These visualizations serve as initial hypotheses and lay the groundwork for more advanced and powerful techniques to explore and analyze the data further.</p>

<h2 id="3-multivariate-visualization">3. Multivariate visualization</h2>

<p>Multivariate plots are powerful tools that enable us to examine relationships between two or more variables in a single figure. The choice of visualization technique depends on the types of variables involved.</p>

<h3 id="31-quantitative-vs-quantitative">3.1 Quantitative vs. Quantitative</h3>

<h4 id="correlation-matrix">Correlation matrix</h4>
<p>Let’s look at the correlations among the numerical variables in our dataset. This information is important to know as there are Machine Learning algorithms (for example, linear and logistic regression) that do not handle highly correlated input variables well.</p>

<p>First, we will use the method corr() on a DataFrame that calculates the correlation between each pair of features. Then, we pass the resulting correlation matrix to heatmap() from seaborn, which renders a color-coded matrix for the provided values:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Drop non-numerical variables
</span><span class="n">numerical</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s">"age"</span><span class="p">,</span>
            <span class="s">"fnlwgt"</span><span class="p">,</span>
            <span class="s">"education-num"</span><span class="p">,</span>
            <span class="s">"capital-gain"</span><span class="p">,</span>
            <span class="s">"capital-loss"</span><span class="p">,</span>
            <span class="s">"hours-per-week"</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Calculate and plot
</span><span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numerical</span><span class="p">].</span><span class="n">corr</span><span class="p">()</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_35_0.svg" alt="svg" /></p>

<p>From the colored correlation matrix generated above, we can see that there are no variables that have been calculated directly from other variables. Thus there are no dependent variables and can therefore none of the numerical columns can be left out since they all contribute additional information that may be useful.</p>

<p>Incase, if we end up finding the presense of direct variables in our dataset, we can get rid of them as they do not contribute any additional information.</p>

<h4 id="scatter-plot">Scatter plot</h4>

<p>The scatter plot displays values of two numerical variables as Cartesian coordinates in 2D space. Scatter plots in 3D are also possible.</p>

<p>Let’s try out the function scatter() from the matplotlib library:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s">"hours-per-week"</span><span class="p">],</span><span class="n">df</span><span class="p">[</span><span class="s">"capital-loss"</span><span class="p">]);</span>

</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_38_0.svg" alt="svg" /></p>

<p>We get an uninteresting picture of these two variables - hours-per-week vs capital loss. However, looking closely we can determine that the people who work between 20 to 40 hours faced the highest capital losses.</p>

<p>There is a slightly fancier option to create a scatter plot with the seaborn library:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"hours-per-week"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"capital-loss"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">"scatter"</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_40_0.svg" alt="svg" /></p>

<p>The function jointplot() plots two histograms that may be useful in some cases.</p>

<p>Using the same function, we can also get a smoothed version of our bivariate distribution:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">jointplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s">"hours-per-week"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"capital-loss"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">"kde"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"g"</span>
<span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_42_0.svg" alt="svg" /></p>

<p>This is basically a bivariate version of the Kernel Density Plot discussed earlier.</p>

<h4 id="scatterplot-matrix">Scatterplot matrix</h4>
<p>In some cases, we may want to plot a scatterplot matrix such as the one shown below. Its diagonal contains the distributions of the corresponding variables, and the scatter plots for each pair of variables fill the rest of the matrix.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># `pairplot()` may become very slow with the SVG format
</span><span class="o">%</span><span class="n">config</span> <span class="n">InlineBackend</span><span class="p">.</span><span class="n">figure_format</span> <span class="o">=</span> <span class="s">'png'</span>
<span class="n">sns</span><span class="p">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">numerical</span><span class="p">]);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_44_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># instruct Jupyter Notebook to render the figures in SVG format
</span><span class="o">%</span><span class="n">config</span> <span class="n">InlineBackend</span><span class="p">.</span><span class="n">figure_format</span> <span class="o">=</span> <span class="s">'svg'</span>
</code></pre></div></div>

<p>Sometimes, such a visualization may help draw conclusions about data; but, in this case, everything is pretty clear with no surprises.</p>

<h3 id="32-quantitative-vs-categorical">3.2 Quantitative vs. Categorical</h3>
<p>In this section, we will make our simple quantitative plots a little more exciting. We will try to gain new insights for 50K salary prediction from the interactions between the numerical and categorical features.</p>

<p>More specifically, let’s see how the input variables are related to the target variable Salary.</p>

<p>Previously, you learned about scatter plots. Additionally, their points can be color or size coded so that the values of a third categorical variable are also presented in the same figure. We can achieve this with the scatter() function seen above, but, let’s try a new function called lmplot() and use the parameter hue to indicate our categorical feature of interest:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">lmplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s">"hours-per-week"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"capital-loss"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span>
<span class="p">);</span>

</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_48_0.svg" alt="svg" /></p>

<p>It seems that our small proportion of &gt;50K customers lean towards the bottom and mid of capital loss; that is, such &gt;50K customers tend to work from 0 hours to 100 hours per week. But this is not absolutely clear, and we won’t make any definitive conclusions from this chart.</p>

<p>Now, let’s create box plots to visualize the distribution statistics of the numerical variables in two disjoint groups: the &lt;=50K and those who earn &gt;50K.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">feat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">numerical</span><span class="p">):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">idx</span> <span class="o">/</span> <span class="mi">4</span><span class="p">),</span> <span class="n">idx</span> <span class="o">%</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">feat</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">""</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">feat</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">();</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_50_0.svg" alt="svg" /></p>

<p>From this chart, we can see that the greatest discrepancy in distribution between the two groups is for two variables: age and education-num. Later in this course, we will learn how to determine feature importance in classification using Random Forest or Gradient Boosting; there, we will see that the first two features are indeed very important for salary prediction.</p>

<p>Let’s look at the distribution of age for the &lt;=50K aand &gt;50K customers separately. We will create box and violin plots for age grouped by the target variable.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">sns</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"age"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"age"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_52_0.svg" alt="svg" /></p>

<p>In this case, the violin plot does not contribute any additional information about our data as everything is clear from the box plot alone: high earners tend to be older people.</p>

<p>An interesting observation: the high earners have an early starting age as the &lt;50K people but the high earners also tend to stop earning 10 years earlier than the &lt;=50K people.</p>

<p>When we want to analyze a quantitative variable in two categorical dimensions at once, there is a suitable function for this in the seaborn library called catplot(). For example, let’s visualize the interaction between age and two categorical variables in the same plot:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">catplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s">"age"</span><span class="p">,</span>
    <span class="n">col</span><span class="o">=</span><span class="s">"marital-status"</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s">"box"</span><span class="p">,</span>
    <span class="n">col_wrap</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_54_0.svg" alt="svg" /></p>

<p>From this, we could conclude that, the Married-civ-spouse are least group with high income earners.</p>

<h3 id="33-categorical-vs-categorical">3.3 Categorical vs. Categorical</h3>

<p>As we saw earlier in this article, the variable <code class="language-plaintext highlighter-rouge">relationship</code> has few unique values and, thus, can be considered either categorical. We have already seen its distribution with a count plot. Now, we are interested in the relationship between this categorical feature and the target variable Salary.</p>

<p>Let’s look at the distribution of the <code class="language-plaintext highlighter-rouge">relationship</code>, again using a count plot. This time, let’s also pass the parameter hue=salary that adds a categorical dimension to the plot:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"relationship"</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_58_0.svg" alt="svg" /></p>

<p>An observation: the husbands seems to be the high earners (&gt;50K).</p>

<p>Now, let’s look at the relationship between Salary and the binary feature, <code class="language-plaintext highlighter-rouge">sex</code>. Lets also look at Salary and categorical fetaure <code class="language-plaintext highlighter-rouge">marital-status</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"sex"</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">"marital-status"</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"salary"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'x'</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_60_0.svg" alt="svg" /></p>

<p>An observation: Married-civ-spouse males who are husbands seems to be the high earners.</p>

<h4 id="contingency-table">Contingency table</h4>
<p>In addition to using graphical means for categorical analysis, there is a traditional tool from statistics: a contingency table, also called a cross tabulation. It shows a multivariate frequency distribution of categorical variables in tabular form. In particular, it allows us to see the distribution of one variable conditional on the other by looking along a column or row.</p>

<p>Let’s try to see how Salary is related to the categorical variable Marital Status by creating a cross tabulation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">"marital-status"</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s">"salary"</span><span class="p">]).</span><span class="n">T</span>
</code></pre></div></div>

<div id="df-e1137bee-2fdb-483e-9c48-3648841fde4a">
    <div class="colab-df-container">
      <div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>marital-status</th>
      <th>Divorced</th>
      <th>Married-AF-spouse</th>
      <th>Married-civ-spouse</th>
      <th>Married-spouse-absent</th>
      <th>Never-married</th>
      <th>Separated</th>
      <th>Widowed</th>
    </tr>
    <tr>
      <th>salary</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>&lt;=50K</th>
      <td>3980</td>
      <td>13</td>
      <td>8284</td>
      <td>384</td>
      <td>10192</td>
      <td>959</td>
      <td>908</td>
    </tr>
    <tr>
      <th>&gt;50K</th>
      <td>463</td>
      <td>10</td>
      <td>6692</td>
      <td>34</td>
      <td>491</td>
      <td>66</td>
      <td>85</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e1137bee-2fdb-483e-9c48-3648841fde4a')" title="Convert this dataframe to an interactive table." style="display:none;">

  &lt;svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px"&gt;
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z" /><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z" />
  &lt;/svg&gt;
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e1137bee-2fdb-483e-9c48-3648841fde4a button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e1137bee-2fdb-483e-9c48-3648841fde4a');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<h2 id="4-whole-dataset-visualizations">4. Whole dataset visualizations</h2>

<h3 id="41-a-naive-approach">4.1 A naive approach</h3>
<p>We have been looking at different facets of our dataset by guessing interesting features and selecting a small number of them at a time for visualization. We have only dealt with two to three variables at once and were easily able to observe the structure and relationships in data. But, what if we want to display all the features and still be able to interpret the resulting visualization?</p>

<p>We could use hist() or create a scatterplot matrix with pairplot() for the whole dataset to look at all of our features simultaneously. But, when the number of features is high enough, this kind of visual analysis quickly becomes slow and inefficient. Besides, we would still be analyzing our variables in a pairwise fashion, not all at once.</p>

<h3 id="42-dimensionality-reduction">4.2 Dimensionality reduction</h3>
<p>Most real-world datasets have many features, sometimes, many thousands of them. Each of them can be considered as a dimension in the space of data points. Consequently, more often than not, we deal with high-dimensional datasets, where entire visualization is quite hard.</p>

<p>To look at a dataset as a whole, we need to decrease the number of dimensions used in visualization without losing much information about the data. This task is called dimensionality reduction and is an example of an unsupervised learning problem because we need to derive new, low-dimensional features from the data itself, without any supervised input.</p>

<p>One of the well-known dimensionality reduction methods is Principal Component Analysis (PCA), which we will study later in this course. Its limitation is that it is a linear algorithm that implies certain restrictions on the data.</p>

<p>There are also many non-linear methods, collectively called Manifold Learning. One of the best-known of them is t-SNE.</p>

<h3 id="43-t-sne">4.3 t-SNE</h3>

<p>The name of the method looks complex and a bit intimidating: t-distributed Stochastic Neighbor Embedding. Its math is also impressive, check out the <a href="https://www.jmlr.org/papers/volume9/vandermaaten08a/vandermaaten08a.pdf">original article</a> by Laurens van der Maaten and Geoffrey Hinton from <a href="https://www.jmlr.org/">JMLR</a>). Its basic idea is simple: find a projection for a high-dimensional feature space onto a plane (or a 3D hyperplane, but it is almost always 2D) such that those points that were far apart in the initial n-dimensional space will end up far apart on the plane. Those that were originally close would remain close to each other.</p>

<p>Essentially, neighbor embedding is a search for a new and less-dimensional data representation that preserves neighborship of examples.</p>

<p>First, we need to import some additional classes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.manifold</span> <span class="kn">import</span> <span class="n">TSNE</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
</code></pre></div></div>

<p>We will leave out the categorical features and convert the values “Male/”Female” of the binary feature Sex into numerical values using pandas.Series.map();
Similarly convert &gt;50K and &lt;=50K into 1 and 0s.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numerical_2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s">"age"</span><span class="p">,</span>
            <span class="s">"fnlwgt"</span><span class="p">,</span>
            <span class="s">"education-num"</span><span class="p">,</span>
            <span class="s">"capital-gain"</span><span class="p">,</span>
            <span class="s">"capital-loss"</span><span class="p">,</span>
            <span class="s">"hours-per-week"</span><span class="p">,</span>
            <span class="s">"sex"</span><span class="p">,</span>
            <span class="s">"salary"</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numerical_2</span><span class="p">]</span>
<span class="n">X</span><span class="p">[</span><span class="s">"sex"</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="s">"sex"</span><span class="p">].</span><span class="nb">map</span><span class="p">({</span><span class="s">"Male"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"Female"</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">X</span><span class="p">[</span><span class="s">"salary"</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="s">"salary"</span><span class="p">].</span><span class="nb">map</span><span class="p">({</span><span class="s">"&gt;50K"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"&lt;=50K"</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ipython-input-49-2ade905864e5&gt;:15: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  X["sex"] = X["sex"].map({"Male": 1, "Female": 2})
&lt;ipython-input-49-2ade905864e5&gt;:16: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  X["salary"] = X["salary"].map({"&gt;50K": 1, "&lt;=50K": 0})
</code></pre></div></div>

<p>We also need to normalize the data. For this, we will subtract the mean from each variable and divide it by its standard deviation. All of this can be done with StandardScaler.</p>

<p class="notice--info"><strong>QUICK TIP:</strong> 
StandardScaler is a preprocessing technique used in machine learning to standardize or scale features of a dataset. It transforms the features so that they have a mean of 0 and a standard deviation of 1. This process is also known as z-score normalization or standardization.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="p">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div></div>

<p>Now, let’s build a t-SNE representation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">tsne</span> <span class="o">=</span> <span class="n">TSNE</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">17</span><span class="p">)</span>
<span class="n">tsne_repr</span> <span class="o">=</span> <span class="n">tsne</span><span class="p">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CPU times: user 10min 32s, sys: 739 ms, total: 10min 33s
Wall time: 7min 8s
</code></pre></div></div>

<p>and plot it:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_76_0.svg" alt="svg" /></p>

<p>Let’s color this t-SNE representation according to the churn (blue for &lt;50K salaried people, and orange for those &gt;50K salaries).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">c</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s">"salary"</span><span class="p">].</span><span class="nb">map</span><span class="p">({</span><span class="s">'&lt;=50K'</span><span class="p">:</span> <span class="s">"blue"</span><span class="p">,</span> <span class="s">'&gt;50K'</span><span class="p">:</span> <span class="s">"orange"</span><span class="p">}),</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_78_0.svg" alt="svg" /></p>

<p>We can see that customers who earn &gt;50K are concentrated in a few areas of the lower dimensional feature space.</p>

<p>To better understand the picture, we can also color it with the remaining binary feature: sex. Orange dots here indicate the male instances.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s">"sex"</span><span class="p">]):</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">scatter</span><span class="p">(</span>
        <span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">tsne_repr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="n">c</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">name</span><span class="p">].</span><span class="nb">map</span><span class="p">({</span><span class="s">"Male"</span><span class="p">:</span> <span class="s">"orange"</span><span class="p">,</span> <span class="s">"Female"</span><span class="p">:</span> <span class="s">"blue"</span><span class="p">}),</span>
        <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="/assets/images/2023-07-20-Visual_Data_Analysis_in_Python_Part1_files/2023-07-20-Visual_Data_Analysis_in_Python_Part1_80_0.svg" alt="svg" /></p>

<p>From the above graph, we can interpret that the high income earners are mostly males with little female representation.</p>

<p>Finally, let’s note some disadvantages of t-SNE:</p>

<ul>
  <li>
    <p>High computational complexity. The <a href="https://scikit-learn.org/stable/modules/generated/sklearn.manifold.TSNE.html">implementation</a> in scikit-learn is unlikely to be feasible in a real task. If you have a large number of samples, you should try <a href="https://github.com/DmitryUlyanov/Multicore-TSNE">Multicore-TSNE</a> instead.</p>
  </li>
  <li>
    <p>The plot can change a great deal depending on the random seed, which complicates interpretation. Here is a good <a href="https://distill.pub/2016/misread-tsne/">tutorial</a> on t-SNE. In general, you shouldn’t make any far-reaching conclusions based on such graphs because it can equate to plain guessing. Of course, some findings in t-SNE pictures can inspire an idea and be confirmed through more thorough research down the line, but that does not happen very often.</p>
  </li>
</ul>

<h2 id="references">References:</h2>
<ul>
  <li><a href="https://matplotlib.org/stable/users/index.html">Matlabplot</a></li>
  <li><a href="https://pandas.pydata.org/pandas-docs/stable/https://pandas.pydata.org/pandas-docs/stable/">Pandas</a></li>
  <li><a href="https://seaborn.pydata.org/tutorial/introduction">Seaborn</a></li>
  <li><a href="http://seaborn.pydata.org/examples/index.html">Seaborn Chart Gallary</a></li>
  <li><a href="https://distill.pub/2016/misread-tsne/">How to use t-SNE effectively - Distill.pub</a></li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#machine-learning-fundamentals" class="page__taxonomy-item" rel="tag">machine learning fundamentals</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">python</a><span class="sep">, </span>
    
      <a href="/tags/#seaborn" class="page__taxonomy-item" rel="tag">seaborn</a><span class="sep">, </span>
    
      <a href="/tags/#visual-data-analytics" class="page__taxonomy-item" rel="tag">visual data analytics</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2023-07-20T00:00:00-04:00">July 20, 2023</time></p>


      </footer>

      <section class="page__share">
  Share On <br>
  

  <a href="https://twitter.com/intent/tweet?text=Visual+Data+Analysis+in+Python%3A+Part+1%20http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2023%2F07%2F20%2FVisual_Data_Analysis_in_Python_Part1.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2023%2F07%2F20%2FVisual_Data_Analysis_in_Python_Part1.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F2023%2F07%2F20%2FVisual_Data_Analysis_in_Python_Part1.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      <!-- 
  <nav class="pagination">
    
      <a href="/posts/2023/07/08/Maths_LinearAlgebra_Matrices.html" class="pagination--pager" title="Machine Learning Fundamentals: Linear Algebra: Part 2-Matrices
">Previous</a>
    
    
      <a href="/posts/2023/07/27/Basics_Of_DecisionTrees.html" class="pagination--pager" title="Basics of Decision Trees
">Next</a>
    
  </nav>
 TO remove previous:next-->
    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/posts/2023/07/27/Basics_Of_DecisionTrees.html" rel="permalink">Basics of Decision Trees
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Decision Trees are the gateway to machine learning. They are easy to understand and relate to. However, do we know how they really work?
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/posts/2023/07/08/Maths_LinearAlgebra_Matrices.html" rel="permalink">Machine Learning Fundamentals: Linear Algebra: Part 2-Matrices
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          39 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In this blog post, we will try to understand matrices, their representation, properties and the various operations we can perform on them.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/posts/2023/06/29/Maths_LinearAlgebra.html" rel="permalink">Machine Learning Fundamentals: Linear Algebra: Part 1-Vectors
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          14 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In this blog post, we will try to understand vectors from their base representation, their properties and the various operations we can perform on vectors.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/posts/2023/06/08/Data_Analysis_With_Pandas.html" rel="permalink">Pandas: Data Analysis Essentials
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          35 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">This article outlines the essential Pandas methods for preliminary data analysis.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.linkedin.com/in/vimal-venugopal-1311a519/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/VMLverse" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.instagram.com/vimstargram/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Vimal Venugopal. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/posts/2023/07/20/Visual_Data_Analysis_in_Python_Part1.html";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/posts/2023/07/20/Visual_Data_Analysis_in_Python_Part1"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://vmlverse.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML">
</script>



  </body>
</html>
